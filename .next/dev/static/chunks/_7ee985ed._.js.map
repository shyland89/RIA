{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/date-filter.ts"],"sourcesContent":["export const DATE_MODES = [\"closed_date\", \"pipeline_accepted_date\", \"created_at\"] as const;\nexport type DateMode = (typeof DATE_MODES)[number];\n\nexport const PERIODS = [\"7d\", \"30d\", \"90d\", \"mtd\", \"qtd\", \"custom\"] as const;\nexport type Period = (typeof PERIODS)[number];\n\nexport const DATE_MODE_LABELS: Record<DateMode, string> = {\n  closed_date: \"Closed Date\",\n  pipeline_accepted_date: \"Pipeline Accepted Date\",\n  created_at: \"Created Date\",\n};\n\nexport const PERIOD_LABELS: Record<Period, string> = {\n  \"7d\": \"Last 7 days\",\n  \"30d\": \"Last 30 days\",\n  \"90d\": \"Last 90 days\",\n  mtd: \"Month to date\",\n  qtd: \"Quarter to date\",\n  custom: \"Custom range\",\n};\n\nexport type DateFilterParams = {\n  dateMode: DateMode;\n  period: Period;\n  from?: string;\n  to?: string;\n};\n\nexport type ResolvedDateFilter = {\n  dateField: DateMode;\n  dateFrom: string;\n  dateTo: string;\n  periodLabel: string;\n};\n\nfunction startOfDay(d: Date): Date {\n  return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n}\n\nfunction endOfDay(d: Date): Date {\n  return new Date(d.getFullYear(), d.getMonth(), d.getDate(), 23, 59, 59, 999);\n}\n\nfunction quarterStart(d: Date): Date {\n  const q = Math.floor(d.getMonth() / 3) * 3;\n  return new Date(d.getFullYear(), q, 1);\n}\n\nexport function resolveDateFilter(params: DateFilterParams): ResolvedDateFilter {\n  const now = new Date();\n  const dateField = DATE_MODES.includes(params.dateMode) ? params.dateMode : \"created_at\";\n  const period = PERIODS.includes(params.period) ? params.period : \"30d\";\n\n  let dateFrom: Date;\n  let dateTo: Date = endOfDay(now);\n\n  switch (period) {\n    case \"7d\":\n      dateFrom = startOfDay(new Date(now.getTime() - 7 * 86400000));\n      break;\n    case \"30d\":\n      dateFrom = startOfDay(new Date(now.getTime() - 30 * 86400000));\n      break;\n    case \"90d\":\n      dateFrom = startOfDay(new Date(now.getTime() - 90 * 86400000));\n      break;\n    case \"mtd\":\n      dateFrom = new Date(now.getFullYear(), now.getMonth(), 1);\n      break;\n    case \"qtd\":\n      dateFrom = quarterStart(now);\n      break;\n    case \"custom\":\n      dateFrom = params.from ? startOfDay(new Date(params.from)) : startOfDay(new Date(now.getTime() - 30 * 86400000));\n      dateTo = params.to ? endOfDay(new Date(params.to)) : endOfDay(now);\n      if (isNaN(dateFrom.getTime())) dateFrom = startOfDay(new Date(now.getTime() - 30 * 86400000));\n      if (isNaN(dateTo.getTime())) dateTo = endOfDay(now);\n      break;\n    default:\n      dateFrom = startOfDay(new Date(now.getTime() - 30 * 86400000));\n  }\n\n  return {\n    dateField,\n    dateFrom: dateFrom.toISOString(),\n    dateTo: dateTo.toISOString(),\n    periodLabel: period === \"custom\"\n      ? `${dateFrom.toLocaleDateString()} â€“ ${dateTo.toLocaleDateString()}`\n      : PERIOD_LABELS[period],\n  };\n}\n\nexport function parseDateFilterFromSearchParams(params: URLSearchParams): DateFilterParams {\n  return {\n    dateMode: (params.get(\"date_mode\") as DateMode) || \"created_at\",\n    period: (params.get(\"period\") as Period) || \"30d\",\n    from: params.get(\"from\") || undefined,\n    to: params.get(\"to\") || undefined,\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,aAAa;IAAC;IAAe;IAA0B;CAAa;AAG1E,MAAM,UAAU;IAAC;IAAM;IAAO;IAAO;IAAO;IAAO;CAAS;AAG5D,MAAM,mBAA6C;IACxD,aAAa;IACb,wBAAwB;IACxB,YAAY;AACd;AAEO,MAAM,gBAAwC;IACnD,MAAM;IACN,OAAO;IACP,OAAO;IACP,KAAK;IACL,KAAK;IACL,QAAQ;AACV;AAgBA,SAAS,WAAW,CAAO;IACzB,OAAO,IAAI,KAAK,EAAE,WAAW,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO;AAC1D;AAEA,SAAS,SAAS,CAAO;IACvB,OAAO,IAAI,KAAK,EAAE,WAAW,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,IAAI,IAAI,IAAI,IAAI;AAC1E;AAEA,SAAS,aAAa,CAAO;IAC3B,MAAM,IAAI,KAAK,KAAK,CAAC,EAAE,QAAQ,KAAK,KAAK;IACzC,OAAO,IAAI,KAAK,EAAE,WAAW,IAAI,GAAG;AACtC;AAEO,SAAS,kBAAkB,MAAwB;IACxD,MAAM,MAAM,IAAI;IAChB,MAAM,YAAY,WAAW,QAAQ,CAAC,OAAO,QAAQ,IAAI,OAAO,QAAQ,GAAG;IAC3E,MAAM,SAAS,QAAQ,QAAQ,CAAC,OAAO,MAAM,IAAI,OAAO,MAAM,GAAG;IAEjE,IAAI;IACJ,IAAI,SAAe,SAAS;IAE5B,OAAQ;QACN,KAAK;YACH,WAAW,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI;YACnD;QACF,KAAK;YACH,WAAW,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK;YACpD;QACF,KAAK;YACH,WAAW,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK;YACpD;QACF,KAAK;YACH,WAAW,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,IAAI;YACvD;QACF,KAAK;YACH,WAAW,aAAa;YACxB;QACF,KAAK;YACH,WAAW,OAAO,IAAI,GAAG,WAAW,IAAI,KAAK,OAAO,IAAI,KAAK,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK;YACtG,SAAS,OAAO,EAAE,GAAG,SAAS,IAAI,KAAK,OAAO,EAAE,KAAK,SAAS;YAC9D,IAAI,MAAM,SAAS,OAAO,KAAK,WAAW,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK;YACnF,IAAI,MAAM,OAAO,OAAO,KAAK,SAAS,SAAS;YAC/C;QACF;YACE,WAAW,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK;IACxD;IAEA,OAAO;QACL;QACA,UAAU,SAAS,WAAW;QAC9B,QAAQ,OAAO,WAAW;QAC1B,aAAa,WAAW,WACpB,GAAG,SAAS,kBAAkB,GAAG,GAAG,EAAE,OAAO,kBAAkB,IAAI,GACnE,aAAa,CAAC,OAAO;IAC3B;AACF;AAEO,SAAS,gCAAgC,MAAuB;IACrE,OAAO;QACL,UAAU,AAAC,OAAO,GAAG,CAAC,gBAA6B;QACnD,QAAQ,AAAC,OAAO,GAAG,CAAC,aAAwB;QAC5C,MAAM,OAAO,GAAG,CAAC,WAAW;QAC5B,IAAI,OAAO,GAAG,CAAC,SAAS;IAC1B;AACF"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback, Suspense } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport {\n  DATE_MODES,\n  PERIODS,\n  DATE_MODE_LABELS,\n  PERIOD_LABELS,\n  type DateMode,\n  type Period,\n} from \"@/lib/date-filter\";\n\ntype Totals = {\n  count: number;\n  won: number;\n  lost: number;\n  open: number;\n  winRate: number | null;\n  avgAmountWon: number | null;\n};\n\ntype BreakdownRow = {\n  label: string;\n  count: number;\n  won: number;\n  lost: number;\n  open: number;\n  winRate: number | null;\n  avgAmountWon: number | null;\n};\n\ntype FilterMeta = {\n  dateMode: string;\n  dateModeLabel: string;\n  dateFrom: string;\n  dateTo: string;\n  periodLabel: string;\n  includedCount: number;\n  excludedNullCount: number;\n  totalOrgCount: number;\n};\n\ntype SummaryData = {\n  totals: Totals;\n  byRole: BreakdownRow[];\n  byIndustry: BreakdownRow[];\n  bySource: BreakdownRow[];\n  filter: FilterMeta;\n};\n\ntype AiInsight = {\n  title: string;\n  description: string;\n  type: \"positive\" | \"negative\" | \"neutral\";\n};\n\ntype AiAnalysis = {\n  summary: string;\n  insights: AiInsight[];\n  recommendations: string[];\n};\n\nfunction fmtPct(v: number | null): string {\n  if (v === null) return \"\\u2014\";\n  return `${(v * 100).toFixed(1)}%`;\n}\n\nfunction fmtCurrency(v: number | null): string {\n  if (v === null) return \"\\u2014\";\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(v);\n}\n\nfunction toDateInputValue(iso: string): string {\n  try {\n    return new Date(iso).toISOString().slice(0, 10);\n  } catch {\n    return \"\";\n  }\n}\n\nexport default function DashboardPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10\">\n          <svg className=\"w-5 h-5 text-primary animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n          </svg>\n        </div>\n      </div>\n    }>\n      <DashboardContent />\n    </Suspense>\n  );\n}\n\nfunction DashboardContent() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n\n  const dateMode = (searchParams.get(\"date_mode\") as DateMode) || \"created_at\";\n  const period = (searchParams.get(\"period\") as Period) || \"30d\";\n  const customFrom = searchParams.get(\"from\") || \"\";\n  const customTo = searchParams.get(\"to\") || \"\";\n\n  const [data, setData] = useState<SummaryData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [aiAnalysis, setAiAnalysis] = useState<AiAnalysis | null>(null);\n  const [aiLoading, setAiLoading] = useState(false);\n  const [aiError, setAiError] = useState(\"\");\n\n  function updateFilter(updates: Record<string, string>) {\n    const params = new URLSearchParams(searchParams.toString());\n    for (const [k, v] of Object.entries(updates)) {\n      if (v) {\n        params.set(k, v);\n      } else {\n        params.delete(k);\n      }\n    }\n    if (params.get(\"period\") !== \"custom\") {\n      params.delete(\"from\");\n      params.delete(\"to\");\n    }\n    router.replace(`?${params.toString()}`, { scroll: false });\n  }\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const params = new URLSearchParams();\n      params.set(\"date_mode\", dateMode);\n      params.set(\"period\", period);\n      if (period === \"custom\") {\n        if (customFrom) params.set(\"from\", customFrom);\n        if (customTo) params.set(\"to\", customTo);\n      }\n      const res = await fetch(`/api/analytics/summary?${params.toString()}`);\n      if (!res.ok) {\n        const body = await res.json().catch(() => ({}));\n        setError(body.error || \"Failed to load analytics\");\n        return;\n      }\n      setData(await res.json());\n    } catch {\n      setError(\"Failed to load analytics\");\n    } finally {\n      setLoading(false);\n    }\n  }, [dateMode, period, customFrom, customTo]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  async function runAiAnalysis() {\n    setAiLoading(true);\n    setAiError(\"\");\n    setAiAnalysis(null);\n    try {\n      const body: Record<string, string> = {\n        date_mode: dateMode,\n        period: period,\n      };\n      if (period === \"custom\") {\n        if (customFrom) body.from = customFrom;\n        if (customTo) body.to = customTo;\n      }\n      const res = await fetch(\"/api/ai/analyze\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n      if (!res.ok) {\n        const json = await res.json().catch(() => ({}));\n        setAiError(json.error || \"AI analysis failed\");\n        return;\n      }\n      const json = await res.json();\n      setAiAnalysis(json.analysis);\n    } catch {\n      setAiError(\"AI analysis failed. Please try again.\");\n    } finally {\n      setAiLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"border-b border-border\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between gap-4 flex-wrap\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"inline-flex items-center justify-center w-8 h-8 rounded-md bg-primary\">\n              <svg className=\"w-4 h-4 text-primary-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n              </svg>\n            </div>\n            <span className=\"text-sm font-semibold text-foreground\" data-testid=\"text-dashboard-title\">\n              Analytics Dashboard\n            </span>\n          </div>\n          <div className=\"flex items-center gap-3 flex-wrap\">\n            <Link\n              href=\"/app/import\"\n              className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              data-testid=\"link-import\"\n            >\n              Import\n            </Link>\n            <Link\n              href=\"/app\"\n              className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              data-testid=\"link-home\"\n            >\n              Home\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        {/* Filter Bar */}\n        <div className=\"rounded-md border border-border bg-card p-4 mb-8\" data-testid=\"filter-bar\">\n          <div className=\"flex flex-wrap items-end gap-4\">\n            <div className=\"flex flex-col gap-1.5\">\n              <label className=\"text-xs font-medium text-muted-foreground\" htmlFor=\"date-mode\">\n                Date Mode\n              </label>\n              <select\n                id=\"date-mode\"\n                value={dateMode}\n                onChange={(e) => updateFilter({ date_mode: e.target.value })}\n                className=\"rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30\"\n                data-testid=\"select-date-mode\"\n              >\n                {DATE_MODES.map((m) => (\n                  <option key={m} value={m}>\n                    {DATE_MODE_LABELS[m]}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"flex flex-col gap-1.5\">\n              <label className=\"text-xs font-medium text-muted-foreground\" htmlFor=\"period\">\n                Time Period\n              </label>\n              <select\n                id=\"period\"\n                value={period}\n                onChange={(e) => updateFilter({ period: e.target.value })}\n                className=\"rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30\"\n                data-testid=\"select-period\"\n              >\n                {PERIODS.map((p) => (\n                  <option key={p} value={p}>\n                    {PERIOD_LABELS[p]}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {period === \"custom\" && (\n              <>\n                <div className=\"flex flex-col gap-1.5\">\n                  <label className=\"text-xs font-medium text-muted-foreground\" htmlFor=\"custom-from\">\n                    From\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"custom-from\"\n                    value={customFrom}\n                    onChange={(e) => updateFilter({ from: e.target.value })}\n                    className=\"rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30\"\n                    data-testid=\"input-date-from\"\n                  />\n                </div>\n                <div className=\"flex flex-col gap-1.5\">\n                  <label className=\"text-xs font-medium text-muted-foreground\" htmlFor=\"custom-to\">\n                    To\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"custom-to\"\n                    value={customTo}\n                    onChange={(e) => updateFilter({ to: e.target.value })}\n                    className=\"rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30\"\n                    data-testid=\"input-date-to\"\n                  />\n                </div>\n              </>\n            )}\n          </div>\n\n          {data?.filter && (\n            <div className=\"mt-3 flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-muted-foreground\" data-testid=\"filter-meta\">\n              <span>\n                Showing <strong className=\"text-foreground\">{data.filter.includedCount}</strong> opportunities\n              </span>\n              <span>\n                {data.filter.dateModeLabel}: {new Date(data.filter.dateFrom).toLocaleDateString()} &ndash; {new Date(data.filter.dateTo).toLocaleDateString()}\n              </span>\n              {data.filter.excludedNullCount > 0 && (\n                <span>\n                  ({data.filter.excludedNullCount} excluded &mdash; missing {data.filter.dateModeLabel.toLowerCase()})\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n\n        {loading && (\n          <div className=\"flex items-center justify-center py-20\" data-testid=\"loading-state\">\n            <div className=\"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10\">\n              <svg className=\"w-5 h-5 text-primary animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n              </svg>\n            </div>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"rounded-md border border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800 px-4 py-3 text-sm text-red-700 dark:text-red-400\" data-testid=\"text-error\">\n            {error}\n          </div>\n        )}\n\n        {!loading && !error && data && data.totals.count === 0 && (\n          <div className=\"text-center py-20\" data-testid=\"empty-state\">\n            <div className=\"inline-flex items-center justify-center w-14 h-14 rounded-full bg-muted mb-4\">\n              <svg className=\"w-7 h-7 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n            </div>\n            <h2 className=\"text-lg font-semibold text-foreground mb-1\">No opportunities found</h2>\n            <p className=\"text-sm text-muted-foreground mb-6 max-w-md mx-auto\">\n              No data matches the selected filters. Try adjusting the date mode or time period, or import opportunities from CSV.\n            </p>\n            <Link\n              href=\"/app/import\"\n              className=\"inline-flex items-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground\"\n              data-testid=\"link-import-cta\"\n            >\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\n              </svg>\n              Import Opportunities\n            </Link>\n          </div>\n        )}\n\n        {!loading && !error && data && data.totals.count > 0 && (\n          <div className=\"space-y-8\">\n            <div>\n              <h1 className=\"text-2xl font-semibold tracking-tight text-foreground\">\n                Analytics\n              </h1>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Performance overview of your opportunities pipeline.\n              </p>\n            </div>\n\n            {/* KPI Cards */}\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\" data-testid=\"kpi-cards\">\n              <KpiCard\n                label=\"Total Opportunities\"\n                value={String(data.totals.count)}\n                sub={`${data.totals.open} open \\u00B7 ${data.totals.won} won \\u00B7 ${data.totals.lost} lost`}\n                testId=\"kpi-total\"\n              />\n              <KpiCard\n                label=\"Win Rate\"\n                value={fmtPct(data.totals.winRate)}\n                sub={data.totals.winRate !== null ? `${data.totals.won} won of ${data.totals.won + data.totals.lost} decided` : \"No decided deals yet\"}\n                testId=\"kpi-winrate\"\n              />\n              <KpiCard\n                label=\"Avg Amount (Won)\"\n                value={fmtCurrency(data.totals.avgAmountWon)}\n                sub={data.totals.avgAmountWon !== null ? `From ${data.totals.won} won deals` : \"No won deals yet\"}\n                testId=\"kpi-avgamount\"\n              />\n              <KpiCard\n                label=\"Open Pipeline\"\n                value={String(data.totals.open)}\n                sub=\"Opportunities in progress\"\n                testId=\"kpi-open\"\n              />\n            </div>\n\n            {/* Breakdown Tables */}\n            <div className=\"grid gap-6 lg:grid-cols-3\">\n              <BreakdownTable title=\"By Role\" rows={data.byRole} testId=\"breakdown-role\" />\n              <BreakdownTable title=\"By Industry\" rows={data.byIndustry} testId=\"breakdown-industry\" />\n              <BreakdownTable title=\"By Source\" rows={data.bySource} testId=\"breakdown-source\" />\n            </div>\n\n            {/* AI Analysis Section */}\n            <div className=\"rounded-md border border-border bg-card p-6\" data-testid=\"ai-analysis-section\">\n              <div className=\"flex items-center justify-between gap-4 flex-wrap mb-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"inline-flex items-center justify-center w-8 h-8 rounded-md bg-primary/10\">\n                    <svg className=\"w-4 h-4 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"text-sm font-medium text-foreground\">AI-Powered Analysis</h3>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Analyzing with {DATE_MODE_LABELS[dateMode]} &middot; {PERIOD_LABELS[period]}\n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={runAiAnalysis}\n                  disabled={aiLoading}\n                  className=\"inline-flex items-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  data-testid=\"button-ai-analyze\"\n                >\n                  {aiLoading ? (\n                    <>\n                      <svg className=\"w-4 h-4 mr-2 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                      </svg>\n                      Analyzing...\n                    </>\n                  ) : (\n                    <>\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                      </svg>\n                      Analyze with AI\n                    </>\n                  )}\n                </button>\n              </div>\n\n              {aiError && (\n                <div className=\"rounded-md border border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800 px-4 py-3 text-sm text-red-700 dark:text-red-400 mb-4\" data-testid=\"text-ai-error\">\n                  {aiError}\n                </div>\n              )}\n\n              {!aiAnalysis && !aiLoading && !aiError && (\n                <p className=\"text-sm text-muted-foreground\" data-testid=\"text-ai-placeholder\">\n                  Click the button above to generate AI-powered insights for the current date filter.\n                </p>\n              )}\n\n              {aiAnalysis && (\n                <div className=\"space-y-6\" data-testid=\"ai-results\">\n                  <div data-testid=\"ai-summary\">\n                    <p className=\"text-sm text-foreground leading-relaxed\">{aiAnalysis.summary}</p>\n                  </div>\n\n                  <div>\n                    <h4 className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3\">Key Insights</h4>\n                    <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n                      {aiAnalysis.insights.map((insight, i) => (\n                        <div\n                          key={i}\n                          className={`rounded-md border px-4 py-3 ${\n                            insight.type === \"positive\"\n                              ? \"border-green-300 bg-green-50 dark:bg-green-950/20 dark:border-green-800\"\n                              : insight.type === \"negative\"\n                                ? \"border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800\"\n                                : \"border-border bg-muted/30\"\n                          }`}\n                          data-testid={`ai-insight-${i}`}\n                        >\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            {insight.type === \"positive\" && (\n                              <svg className=\"w-3.5 h-3.5 text-green-600 dark:text-green-400 shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                              </svg>\n                            )}\n                            {insight.type === \"negative\" && (\n                              <svg className=\"w-3.5 h-3.5 text-red-600 dark:text-red-400 shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                              </svg>\n                            )}\n                            {insight.type === \"neutral\" && (\n                              <svg className=\"w-3.5 h-3.5 text-muted-foreground shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                              </svg>\n                            )}\n                            <p className=\"text-xs font-medium text-foreground\">{insight.title}</p>\n                          </div>\n                          <p className=\"text-xs text-muted-foreground leading-relaxed\">{insight.description}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div data-testid=\"ai-recommendations\">\n                    <h4 className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3\">Recommendations</h4>\n                    <ul className=\"space-y-2\">\n                      {aiAnalysis.recommendations.map((rec, i) => (\n                        <li key={i} className=\"flex items-start gap-2 text-sm text-foreground\" data-testid={`ai-rec-${i}`}>\n                          <svg className=\"w-4 h-4 text-primary shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                          </svg>\n                          <span>{rec}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nfunction KpiCard({ label, value, sub, testId }: { label: string; value: string; sub: string; testId: string }) {\n  return (\n    <div className=\"rounded-md border border-border bg-card p-5\" data-testid={testId}>\n      <p className=\"text-xs font-medium text-muted-foreground\">{label}</p>\n      <p className=\"text-2xl font-semibold text-foreground mt-1\">{value}</p>\n      <p className=\"text-xs text-muted-foreground mt-1\">{sub}</p>\n    </div>\n  );\n}\n\nfunction BreakdownTable({ title, rows, testId }: { title: string; rows: BreakdownRow[]; testId: string }) {\n  return (\n    <div className=\"rounded-md border border-border bg-card p-5\" data-testid={testId}>\n      <h3 className=\"text-sm font-medium text-foreground mb-3\">{title}</h3>\n      {rows.length === 0 ? (\n        <p className=\"text-xs text-muted-foreground\">No data</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full text-xs\">\n            <thead>\n              <tr className=\"border-b border-border\">\n                <th className=\"text-left py-2 pr-3 font-medium text-muted-foreground\">{title.replace(\"By \", \"\")}</th>\n                <th className=\"text-right py-2 px-2 font-medium text-muted-foreground\">Count</th>\n                <th className=\"text-right py-2 px-2 font-medium text-muted-foreground\">Win Rate</th>\n                <th className=\"text-right py-2 pl-2 font-medium text-muted-foreground\">Avg Amt</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rows.map((row) => (\n                <tr key={row.label} className=\"border-b border-border/50\">\n                  <td className=\"py-2 pr-3 text-foreground font-medium whitespace-nowrap\">{row.label}</td>\n                  <td className=\"py-2 px-2 text-right text-foreground\">{row.count}</td>\n                  <td className=\"py-2 px-2 text-right text-foreground\">{fmtPct(row.winRate)}</td>\n                  <td className=\"py-2 pl-2 text-right text-foreground\">{fmtCurrency(row.avgAmountWon)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}