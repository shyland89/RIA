{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/sign-out-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SignOutButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SignOutButton() from the server but SignOutButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/app/sign-out-button.tsx <module evaluation>\",\n    \"SignOutButton\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,6DACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/sign-out-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SignOutButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SignOutButton() from the server but SignOutButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/app/sign-out-button.tsx\",\n    \"SignOutButton\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,yCACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { createClient } from \"@/lib/supabase/server\";\nimport { getUserOrg, isUserOrgError } from \"@/lib/get-user-org\";\nimport { SignOutButton } from \"./sign-out-button\";\n\nexport default async function AppPage() {\n  const supabase = await createClient();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (!user) {\n    redirect(\"/login\");\n  }\n\n  let result = await getUserOrg();\n\n  if (isUserOrgError(result) && result.status === 403) {\n    const { error: bootstrapError } = await supabase.rpc(\"bootstrap_org\", {\n      org_name: `${user.email}'s Organization`,\n    });\n\n    if (!bootstrapError) {\n      result = await getUserOrg();\n    }\n  }\n\n  const hasOrg = !isUserOrgError(result);\n  const org = hasOrg ? result.org : null;\n  const role = hasOrg ? result.membership.role : null;\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: \"var(--stone-50)\" }}>\n      <main style={{ padding: \"28px 40px 60px\" }}>\n        <div className=\"flex items-center justify-between gap-4 flex-wrap mb-8\">\n          <div>\n            <h1\n              className=\"text-[22px] font-bold tracking-tight\"\n              style={{ color: \"var(--stone-900)\", letterSpacing: \"-0.3px\" }}\n              data-testid=\"text-welcome\"\n            >\n              Welcome back\n            </h1>\n            <p className=\"text-sm mt-1\" style={{ color: \"var(--stone-500)\" }}>\n              You are signed in as{\" \"}\n              <span className=\"font-medium\" style={{ color: \"var(--stone-900)\" }}>\n                {user.email}\n              </span>\n            </p>\n          </div>\n          <SignOutButton />\n        </div>\n\n        <div className=\"grid gap-6 sm:grid-cols-2\">\n          <div\n            className=\"bg-white p-6\"\n            style={{\n              border: \"1px solid var(--stone-200)\",\n              borderRadius: \"var(--radius-lg, 14px)\",\n            }}\n          >\n            <h2\n              className=\"text-sm font-semibold mb-4\"\n              style={{ color: \"var(--stone-900)\" }}\n            >\n              Account details\n            </h2>\n            <dl className=\"space-y-3 text-sm\">\n              <div className=\"flex justify-between gap-4 flex-wrap\">\n                <dt style={{ color: \"var(--stone-500)\" }}>User ID</dt>\n                <dd\n                  className=\"font-mono text-xs\"\n                  style={{ color: \"var(--stone-900)\" }}\n                  data-testid=\"text-user-id\"\n                >\n                  {user.id}\n                </dd>\n              </div>\n              <div className=\"flex justify-between gap-4 flex-wrap\">\n                <dt style={{ color: \"var(--stone-500)\" }}>Email</dt>\n                <dd\n                  style={{ color: \"var(--stone-900)\" }}\n                  data-testid=\"text-user-email-detail\"\n                >\n                  {user.email}\n                </dd>\n              </div>\n              <div className=\"flex justify-between gap-4 flex-wrap\">\n                <dt style={{ color: \"var(--stone-500)\" }}>Last sign in</dt>\n                <dd style={{ color: \"var(--stone-900)\" }} data-testid=\"text-last-signin\">\n                  {user.last_sign_in_at\n                    ? new Date(user.last_sign_in_at).toLocaleString()\n                    : \"N/A\"}\n                </dd>\n              </div>\n            </dl>\n          </div>\n\n          <div\n            className=\"bg-white p-6\"\n            style={{\n              border: \"1px solid var(--stone-200)\",\n              borderRadius: \"var(--radius-lg, 14px)\",\n            }}\n          >\n            <h2\n              className=\"text-sm font-semibold mb-4\"\n              style={{ color: \"var(--stone-900)\" }}\n            >\n              Organization\n            </h2>\n            {org ? (\n              <dl className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between gap-4 flex-wrap\">\n                  <dt style={{ color: \"var(--stone-500)\" }}>Name</dt>\n                  <dd\n                    style={{ color: \"var(--stone-900)\" }}\n                    data-testid=\"text-org-name\"\n                  >\n                    {org.name}\n                  </dd>\n                </div>\n                <div className=\"flex justify-between gap-4 flex-wrap\">\n                  <dt style={{ color: \"var(--stone-500)\" }}>Org ID</dt>\n                  <dd\n                    className=\"font-mono text-xs\"\n                    style={{ color: \"var(--stone-900)\" }}\n                    data-testid=\"text-org-id\"\n                  >\n                    {org.id}\n                  </dd>\n                </div>\n                <div className=\"flex justify-between gap-4 flex-wrap\">\n                  <dt style={{ color: \"var(--stone-500)\" }}>Your role</dt>\n                  <dd data-testid=\"text-user-role\">\n                    <span\n                      className=\"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-md\"\n                      style={{\n                        background: \"var(--teal-50)\",\n                        color: \"var(--teal-700)\",\n                      }}\n                    >\n                      {role}\n                    </span>\n                  </dd>\n                </div>\n              </dl>\n            ) : (\n              <div data-testid=\"text-no-org\">\n                <p className=\"text-sm mb-3\" style={{ color: \"var(--stone-500)\" }}>\n                  {isUserOrgError(result) ? result.error : \"No organization found.\"}\n                </p>\n                <Link\n                  href=\"/app\"\n                  className=\"inline-flex items-center px-3 py-1.5 text-xs font-semibold text-white\"\n                  style={{\n                    background: \"var(--teal-600)\",\n                    borderRadius: \"var(--radius-sm, 6px)\",\n                  }}\n                  data-testid=\"link-retry-org\"\n                >\n                  Retry\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}